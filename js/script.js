"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function toggleClassMenu2(){console.log("blub"),myMenu2.classList.add("menu--animatable2"),myMenu2.classList.contains("menu--visible2")?myMenu2.classList.remove("menu--visible2"):myMenu2.classList.add("menu--visible2")}function OnTransitionEnd2(){myMenu2.classList.remove("menu--animatable2")}function scroll(){var e=$(window).scrollTop(),t=$(window).height(),n=e+t;$(".reveal").each(function(){var t=$(this);if(!t.hasClass("reveal_visible")){var i=t.offset().top;i<=n&&(i+t.height()<e?t.removeClass("reveal_pending").addClass("reveal_visible"):(t.addClass("reveal_pending"),rafId||requestAnimationFrame(reveal)))}})}function reveal(){rafId=null;var e=performance.now();if(e-lTime>delay){lTime=e;var t=$(".reveal_pending");$(t.get(0)).removeClass("reveal_pending").addClass("reveal_visible")}$(".reveal_pending").length>=1&&(rafId=requestAnimationFrame(reveal))}function ready(){for(var e=document.getElementsByTagName("dt"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){accordionClick(event)})}function handleCarouselsHeight(){if(window.matchMedia("(min-width: 1024px)").matches){var e=$(".gallery2").height();$left.css("height",e)}else $left.css("height","auto")}var _$gl$slick;$(".item-open").click(function(e){e.preventDefault(),$(this).next().slideToggle()}),$(".close-cart-float").length>0&&$(".cart-btn-fixed ").hide(),$(".header-drop").click(function(e){e.stopPropagation(),$(this).next().toggleClass("show"),$(this).find(".dropdown-content").toggleClass("show")}),$("body").not("#myDropdown").off("click").on("click",function(){$("#myDropdown").removeClass("show")}),$(".search-bar").click(function(){$(".content-search-bar").addClass("active")}),$(".close-search-bar").click(function(){$(".content-search-bar").removeClass("active")}),$(".cart-button").click(function(){$(this).parent().find(".number").removeClass("hidden"),$(this).hide();var e=$("#total-items").html();e++,$("#total-items").html(e)}),$(".reusecore__button").click(function(){$(this).parent().find(".number").removeClass("hidden"),$(this).hide();var e=$("#total-items").html();e++,$("#total-items").html(e)}),$(document).ready(function(){$(".minus").click(function(){var e=$(this).parent().find("input"),t=parseInt(e.val())-1;return t=t<1?0:t,e.val(t),e.change(),0==t&&($(this).parent().addClass("hidden"),$(this).parent().prev().show()),!1}),$(".plus").click(function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})}),$(".label-input").click(function(){$(".label-input").removeClass("active"),$(this).addClass("active")}),$(".have-cupon").click(function(){$(this).removeClass("hidden"),$("#showing-cupon").hasClass("hidden")?$("#showing-cupon").removeClass("hidden"):$("#showing-cupon").addClass("hidden")});var log=document.querySelector(".log");if(window.addEventListener("scroll",function(){var e=document.querySelector(".main-grid").getBoundingClientRect(),t=document.querySelector(".me_sticky").getBoundingClientRect();e.top<=t.top+t.height&&e.top+e.height>t.top?(document.querySelector(".aside-left").classList.add("tofixed"),document.querySelector(".aside-left").style.top=document.querySelector(".me_sticky").offsetHeight+"px"):(document.querySelector(".aside-left").classList.remove("tofixed"),document.querySelector(".aside-left").style.top="0px")}),$(document).ready(function(){function e(e){n.classList.add("menu--animatable"),n.classList.contains("menu--visible")?n.classList.remove("menu--visible"):n.classList.add("menu--visible")}function t(){n.classList.remove("menu--animatable")}if(null==document.querySelector(".menu"));else{var n=document.querySelector(".menu"),i=document.querySelector(".menu-icon");document.querySelector(".card-close"),document.querySelector(".close-mobile-modal");n.addEventListener("transitionend",t,!1),i.addEventListener("click",e,!1),$(".card-close").click(function(){e()}),$(".close-mobile-modal").click(function(){e()}),$(".btn-cart-floating").click(function(){e()})}}),null==document.querySelector(".menu2"));else{var myMenu2=document.querySelector(".menu2"),oppMenu2=document.querySelector(".dLFRil");myMenu2.addEventListener("transitionend",OnTransitionEnd2,!1),oppMenu2.addEventListener("click",toggleClassMenu2,!1),myMenu2.addEventListener("click",toggleClassMenu2,!1),$(".card-close-header").click(function(){myMenu2.classList.contains("menu--visible2")?myMenu2.classList.add("menu--visible2"):myMenu2.classList.remove("menu--visible2")})}$(".item-link").click(function(e){e.preventDefault()});var rafId=null,delay=200,lTime=0;$(scroll),$(window).scroll(scroll);var modalTriggers=document.querySelectorAll(".product-image"),modalCloseTrigger=document.querySelector(".popup-modal__close"),bodyBlackout=document.querySelector(".body-blackout");modalTriggers.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.popupTrigger,n=document.querySelector('[data-popup-modal="'+t+'"]');n.classList.add("is--visible"),bodyBlackout.classList.add("is-blacked-out"),n.querySelector(".popup-modal__close").addEventListener("click",function(){n.classList.remove("is--visible"),bodyBlackout.classList.remove("is-blacked-out")})})});var $navbar=$(".me_sticky"),y_pos=$navbar.offset().top,height=$navbar.height();$(document).scroll(function(){var e=$(this).scrollTop();e>y_pos+height?$navbar.addClass("navbar-fixed").animate({top:0}):e<=y_pos&&$navbar.removeClass("navbar-fixed").clearQueue().animate({},0)}),$(".me_sticky").css("top","0"),$(".trigger-mobi").click(function(){$(this).next().toggle()}),"loading"!==document.readyState?(console.log("ready!"),ready()):document.addEventListener("DOMContentLoaded",ready);var accordionClick=function(e){console.log(e);var t=event.target;console.log(t);var n=t.classList;for(console.log("target clicked: "+t),console.log(n[0]);"description-title"!=n[0];)console.log("parent element: "+t.parentElement),t=t.parentElement,n=t.classList,console.log("target clicked while in loop:"+t),console.log("class clicked while in loop: "+n);var i=t.nextElementSibling;console.log(i);var o=t.children[0];if(i.style.maxHeight)i.style.maxHeight=null,o.innerHTML="&#10133;";else{for(var l=document.getElementsByTagName("dd"),s=0;s<l.length;s++)console.log("current description: "+l[s]),l[s].style.maxHeight&&(console.log("there is a description already open"),l[s].style.maxHeight=null,l[s].previousElementSibling.children[0].innerHTML="&#10133;");i.style.maxHeight=i.scrollHeight+45+"px",o.innerHTML="&#10134;"}},$left=$(".left"),$gl=$(".gallery"),$gl2=$(".gallery2"),$photosCounterFirstSpan=$(".photos-counter span:nth-child(1)");$gl2.on("init",function(e,t){$photosCounterFirstSpan.text(t.currentSlide+1+"/"),$(".photos-counter span:nth-child(2)").text(t.slideCount)}),$gl.slick((_$gl$slick={rows:0,slidesToShow:3,arrows:!1,infinite:!1,draggable:!0},_defineProperty(_$gl$slick,"slidesToShow",3),_defineProperty(_$gl$slick,"mobileFirst",!0),_defineProperty(_$gl$slick,"responsive",[{breakpoint:768,settings:{slidesToShow:3}}]),_$gl$slick)),$gl2.slick({rows:0,useTransform:!1,prevArrow:".arrow-left",nextArrow:".arrow-right",fade:!0,asNavFor:$gl}),$(window).on("load",function(){handleCarouselsHeight(),setTimeout(function(){$(".loading").fadeOut(),$("body").addClass("over-visible")},300)}),$(".slider-pay").slick({infinite:!1,dots:!1,slidesToShow:1,nextArrow:"<div class=\"icon-slick-nav next-arrow\"><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 512 512'><title>ionicons-v5-a</title><polyline points='184 112 328 256 184 400' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/></svg></div>",prevArrow:"<div class=\"icon-slick-nav prev-arrow\"><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 512 512'><title>ionicons-v5-a</title><polyline points='328 112 184 256 328 400' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/></svg></div>",slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1}}]}),$(".gallery .item").on("click",function(){var e=$(this).attr("data-slick-index");$gl2.slick("slickGoTo",e)}),$gl2.on("afterChange",function(e,t,n){$photosCounterFirstSpan.text(t.currentSlide+1+"/")}),$(window).scroll(function(){var e=$(".me_sticky"),t=$(".aside-left"),n=e.offset().top;if($(".aside-left").length>0)var i=t.offset().top;var o=n+e.height(),l=i+t.height(),s=e.outerHeight();o>=i&&n<l?(t.addClass("tofixed"),t.css("top",s+"px")):(t.removeClass("tofixed"),t.css("top","0px"))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInRvZ2dsZUNsYXNzTWVudTIiLCJjb25zb2xlIiwibG9nIiwibXlNZW51MiIsImNsYXNzTGlzdCIsImFkZCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiT25UcmFuc2l0aW9uRW5kMiIsInNjcm9sbCIsInNjcm9sbFRvcCIsIiQiLCJ3aW5kb3ciLCJoZWlnaHQiLCJ2aXNpYmxlVG9wIiwiZWFjaCIsIiR0IiwidGhpcyIsImhhc0NsYXNzIiwidG9wIiwib2Zmc2V0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInJhZklkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmV2ZWFsIiwibm93IiwicGVyZm9ybWFuY2UiLCJsVGltZSIsImRlbGF5IiwiJHRzIiwiZ2V0IiwibGVuZ3RoIiwicmVhZHkiLCJhY2NvcmRpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhY2NvcmRpb25DbGljayIsImV2ZW50IiwiaGFuZGxlQ2Fyb3VzZWxzSGVpZ2h0IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJnbDJIIiwiJGxlZnQiLCJjc3MiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm5leHQiLCJzbGlkZVRvZ2dsZSIsImhpZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJub3QiLCJvZmYiLCJvbiIsInBhcmVudCIsInQiLCJodG1sIiwiJGlucHV0IiwiY291bnQiLCJwYXJzZUludCIsInZhbCIsImNoYW5nZSIsInByZXYiLCJzaG93IiwicXVlcnlTZWxlY3RvciIsImIiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhIiwic3R5bGUiLCJvZmZzZXRIZWlnaHQiLCJ0b2dnbGVDbGFzc01lbnUiLCJteU1lbnUiLCJPblRyYW5zaXRpb25FbmQiLCJvcHBNZW51Iiwib3BwTWVudTIiLCJtb2RhbFRyaWdnZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsQ2xvc2VUcmlnZ2VyIiwiYm9keUJsYWNrb3V0IiwiZm9yRWFjaCIsInRyaWdnZXIiLCJwb3B1cFRyaWdnZXIiLCJkYXRhc2V0IiwicG9wdXBNb2RhbCIsIiRuYXZiYXIiLCJ5X3BvcyIsImFuaW1hdGUiLCJjbGVhclF1ZXVlIiwidG9nZ2xlIiwicmVhZHlTdGF0ZSIsImV2ZW50SGFwcGVuZWQiLCJ0YXJnZXRDbGlja2VkIiwidGFyZ2V0IiwiY2xhc3NDbGlja2VkIiwicGFyZW50RWxlbWVudCIsImRlc2NyaXB0aW9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZXhwYW5kZXIiLCJjaGlsZHJlbiIsIm1heEhlaWdodCIsImlubmVySFRNTCIsImFsbERlc2NyaXB0aW9ucyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJzY3JvbGxIZWlnaHQiLCIkZ2wiLCIkZ2wyIiwiJHBob3Rvc0NvdW50ZXJGaXJzdFNwYW4iLCJzbGljayIsInRleHQiLCJjdXJyZW50U2xpZGUiLCJzbGlkZUNvdW50IiwiXyRnbCRzbGljayIsInJvd3MiLCJzbGlkZXNUb1Nob3ciLCJhcnJvd3MiLCJpbmZpbml0ZSIsImRyYWdnYWJsZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsInVzZVRyYW5zZm9ybSIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImZhZGUiLCJhc05hdkZvciIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwiZG90cyIsInNsaWRlc1RvU2Nyb2xsIiwicmVzcG9uc2l2ZSIsImluZGV4IiwiYXR0ciIsImRpdjEiLCJkaXYyIiwiZGl2MV90b3AiLCJkaXYyX3RvcCIsImRpdjFfYm90dG9tIiwiZGl2Ml9ib3R0b20iLCJoIiwib3V0ZXJIZWlnaHQiXSwibWFwcGluZ3MiOiJtSkFvSkEsUUFBQUEsb0JBQ0FDLFFBQUFDLElBQUEsUUFDQUMsUUFBQUMsVUFBQUMsSUFBQSxxQkFDQUYsUUFBQUMsVUFBQUUsU0FBQSxrQkFHQUgsUUFBQUMsVUFBQUcsT0FBQSxrQkFGQUosUUFB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LGFBRUFYLFdBQUEsSUFDQUMsVUFDQU4sYUFBQSxFQUNBZSxlQUFBLEVBQ0FiLFVBQUEsRUFDQVksTUFBQSxPQU1BekgsRUFBQSxrQkFBQStDLEdBQUEsUUFBQSxXQUNBLEdBQUE2RSxHQUFBNUgsRUFBQU0sTUFBQXVILEtBQUEsbUJBQ0ExQixNQUFBRSxNQUFBLFlBQUF1QixLQUdBekIsS0FBQXBELEdBQUEsY0FBQSxTQUFBbEIsRUFBQXdFLEVBQUFFLEdBQ0FILHdCQUFBRSxLQUFBRCxFQUFBRSxhQUFBLEVBQUEsT0FRQXZHLEVBQUFDLFFBQUFILE9BQUEsV0FDQSxHQUFBZ0ksR0FBQTlILEVBQUEsY0FDQStILEVBQUEvSCxFQUFBLGVBQ0FnSSxFQUFBRixFQUFBckgsU0FBQUQsR0FDQSxJQUFBUixFQUFBLGVBQUFxQixPQUFBLEVBQ0EsR0FBQTRHLEdBQUFGLEVBQUF0SCxTQUFBRCxHQUdBLElBQUEwSCxHQUFBRixFQUFBRixFQUFBNUgsU0FDQWlJLEVBQUFGLEVBQUFGLEVBQUE3SCxTQUNBa0ksRUFBQU4sRUFBQU8sYUFDQUgsSUFBQUQsR0FBQUQsRUFBQUcsR0FDQUosRUFBQXBILFNBQUEsV0FDQW9ILEVBQUE1RixJQUFBLE1BQUFpRyxFQUFBLFFBRUFMLEVBQUFySCxZQUFBLFdBQ0FxSCxFQUFBNUYsSUFBQSxNQUFBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4kKCcuaXRlbS1vcGVuJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKCk7XHJcbn0pXHJcbmlmICgkKCcuY2xvc2UtY2FydC1mbG9hdCcpLmxlbmd0aCA+IDApIHtcclxuICAgICQoJy5jYXJ0LWJ0bi1maXhlZCAnKS5oaWRlKClcclxufVxyXG5cclxuJCgnLmhlYWRlci1kcm9wJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICQodGhpcykubmV4dCgpLnRvZ2dsZUNsYXNzKCdzaG93JylcclxuICAgICQodGhpcykuZmluZCgnLmRyb3Bkb3duLWNvbnRlbnQnKS50b2dnbGVDbGFzcygnc2hvdycpXHJcbn0pO1xyXG5cclxuXHJcbiQoJ2JvZHknKS5ub3QoXCIjbXlEcm9wZG93blwiKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKFwiI215RHJvcGRvd25cIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpXHJcbn0pO1xyXG5cclxuJCgnLnNlYXJjaC1iYXInKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCgnLmNvbnRlbnQtc2VhcmNoLWJhcicpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG59KVxyXG4kKCcuY2xvc2Utc2VhcmNoLWJhcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcuY29udGVudC1zZWFyY2gtYmFyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbn0pXHJcblxyXG4vL0NvdW50ZXJcclxuJCgnLmNhcnQtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5udW1iZXInKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAkKHRoaXMpLmhpZGUoKVxyXG5cclxuICAgIHZhciB0ID0gJCgnI3RvdGFsLWl0ZW1zJykuaHRtbCgpXHJcbiAgICB0KytcclxuICAgICQoJyN0b3RhbC1pdGVtcycpLmh0bWwodClcclxufSlcclxuXHJcbiQoJy5yZXVzZWNvcmVfX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcubnVtYmVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgJCh0aGlzKS5oaWRlKClcclxuXHJcbiAgICB2YXIgdCA9ICQoJyN0b3RhbC1pdGVtcycpLmh0bWwoKVxyXG4gICAgdCsrXHJcbiAgICAkKCcjdG90YWwtaXRlbXMnKS5odG1sKHQpXHJcbn0pXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICQoJy5taW51cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoJGlucHV0LnZhbCgpKSAtIDE7XHJcbiAgICAgICAgY291bnQgPSBjb3VudCA8IDEgPyAwIDogY291bnQ7XHJcbiAgICAgICAgJGlucHV0LnZhbChjb3VudCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJGlucHV0LmNoYW5nZSgpO1xyXG4gICAgICAgIGlmIChjb3VudCA9PSAwKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJylcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wcmV2KCkuc2hvdygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnBsdXMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgICAgICRpbnB1dC52YWwocGFyc2VJbnQoJGlucHV0LnZhbCgpKSArIDEpO1xyXG4gICAgICAgICRpbnB1dC5jaGFuZ2UoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuJChcIi5sYWJlbC1pbnB1dFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoXCIubGFiZWwtaW5wdXRcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAvLyAkKFwiLnRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTsgLy8gaW5zdGVhZCBvZiB0aGlzIGRvIHRoZSBiZWxvdyBcclxuICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbn0pO1xyXG5cclxuJCgnLmhhdmUtY3Vwb24nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXHJcbiAgICBpZiAoJCgnI3Nob3dpbmctY3Vwb24nKS5oYXNDbGFzcygnaGlkZGVuJykpIHtcclxuICAgICAgICAkKCcjc2hvd2luZy1jdXBvbicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjc2hvd2luZy1jdXBvbicpLmFkZENsYXNzKCdoaWRkZW4nKVxyXG4gICAgfVxyXG5cclxufSlcclxudmFyIGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2cnKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG52YXIgYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLWdyaWQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgIGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVfc3RpY2t5JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgXHJcbiAgXHJcbiAgaWYgKGIudG9wIDw9IGEudG9wICsgYS5oZWlnaHQgJiYgYi50b3AgKyBiLmhlaWdodCA+IGEudG9wKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXNpZGUtbGVmdCcpLmNsYXNzTGlzdC5hZGQoJ3RvZml4ZWQnKVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFzaWRlLWxlZnQnKS5zdHlsZS50b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVfc3RpY2t5Jykub2Zmc2V0SGVpZ2h0ICsgJ3B4J1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXNpZGUtbGVmdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3RvZml4ZWQnKVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFzaWRlLWxlZnQnKS5zdHlsZS50b3AgPSAwICsgJ3B4J1xyXG4gIH1cclxuXHJcbn0pO1xyXG4vL01lbnUgY2FydFxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblx0ZnVuY3Rpb24gdG9nZ2xlQ2xhc3NNZW51KGUpIHtcclxuICAgICBcclxuICAgICAgIFxyXG4gICAgICAgIG15TWVudS5jbGFzc0xpc3QuYWRkKFwibWVudS0tYW5pbWF0YWJsZVwiKTtcclxuICAgICAgICBpZiAoIW15TWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJtZW51LS12aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIG15TWVudS5jbGFzc0xpc3QuYWRkKFwibWVudS0tdmlzaWJsZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBteU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS0tdmlzaWJsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBPblRyYW5zaXRpb25FbmQoKSB7XHJcbiAgICAgICAgbXlNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LS1hbmltYXRhYmxlXCIpO1xyXG4gICAgfVxyXG5cdGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpID09IG51bGwgKSB7XHJcbiBcclxuXHJcblx0fWVsc2V7XHJcblx0ICAgXHJcblxyXG5cdCAgICB2YXIgbXlNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51XCIpO1xyXG5cdCAgICB2YXIgb3BwTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1pY29uXCIpO1xyXG4gICAgICAgIHZhciBjbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1jbG9zZVwiKTtcclxuICAgICAgICB2YXIgY2xvc2UyID1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLW1vYmlsZS1tb2RhbFwiKTsgXHJcblx0ICAgIG15TWVudS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBPblRyYW5zaXRpb25FbmQsIGZhbHNlKTtcclxuXHQgICAgb3BwTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlQ2xhc3NNZW51LCBmYWxzZSk7XHJcblx0ICAgICQoJy5jYXJkLWNsb3NlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdG9nZ2xlQ2xhc3NNZW51KClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAkKCcuY2xvc2UtbW9iaWxlLW1vZGFsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdG9nZ2xlQ2xhc3NNZW51KClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAkKCcuYnRuLWNhcnQtZmxvYXRpbmcnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0b2dnbGVDbGFzc01lbnUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuXHJcblx0fVxyXG59KVxyXG5mdW5jdGlvbiB0b2dnbGVDbGFzc01lbnUyKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2JsdWInKTtcclxuICAgIG15TWVudTIuY2xhc3NMaXN0LmFkZChcIm1lbnUtLWFuaW1hdGFibGUyXCIpO1xyXG4gICAgaWYgKCFteU1lbnUyLmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLXZpc2libGUyXCIpKSB7XHJcbiAgICAgICAgbXlNZW51Mi5jbGFzc0xpc3QuYWRkKFwibWVudS0tdmlzaWJsZTJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG15TWVudTIuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS0tdmlzaWJsZTInKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBPblRyYW5zaXRpb25FbmQyKCkge1xyXG4gICAgbXlNZW51Mi5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS0tYW5pbWF0YWJsZTJcIik7XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudTInKSA9PSBudWxsKSB7XHJcbiAgXHJcbn1lbHNle1xyXG5cdCAgXHJcblxyXG4gICBcclxuICAgIHZhciBteU1lbnUyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51MlwiKTtcclxuICAgIHZhciBvcHBNZW51MiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZExGUmlsXCIpO1xyXG5cclxuICAgIG15TWVudTIuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgT25UcmFuc2l0aW9uRW5kMiwgZmFsc2UpO1xyXG4gICAgb3BwTWVudTIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUNsYXNzTWVudTIsIGZhbHNlKTtcclxuICAgIG15TWVudTIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUNsYXNzTWVudTIsIGZhbHNlKVxyXG5cclxuICAgICQoJy5jYXJkLWNsb3NlLWhlYWRlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYgKCFteU1lbnUyLmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLXZpc2libGUyXCIpKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgbXlNZW51Mi5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LS12aXNpYmxlMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG15TWVudTIuY2xhc3NMaXN0LmFkZChcIm1lbnUtLXZpc2libGUyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxufVxyXG4kKCcuaXRlbS1saW5rJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9SZXZlYWwgc2Nyb2xsXHJcbnZhciByYWZJZCA9IG51bGw7XHJcbnZhciBkZWxheSA9IDIwMDtcclxudmFyIGxUaW1lID0gMDtcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbCgpIHtcclxuICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICB2YXIgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpXHJcbiAgICB2YXIgdmlzaWJsZVRvcCA9IHNjcm9sbFRvcCArIGhlaWdodDtcclxuICAgICQoJy5yZXZlYWwnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciAkdCA9ICQodGhpcyk7XHJcbiAgICAgICAgaWYgKCR0Lmhhc0NsYXNzKCdyZXZlYWxfdmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvcCA9ICR0Lm9mZnNldCgpLnRvcDtcclxuICAgICAgICBpZiAodG9wIDw9IHZpc2libGVUb3ApIHtcclxuICAgICAgICAgICAgaWYgKHRvcCArICR0LmhlaWdodCgpIDwgc2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgICAgICAgICAkdC5yZW1vdmVDbGFzcygncmV2ZWFsX3BlbmRpbmcnKS5hZGRDbGFzcygncmV2ZWFsX3Zpc2libGUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICR0LmFkZENsYXNzKCdyZXZlYWxfcGVuZGluZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyYWZJZCkgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJldmVhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV2ZWFsKCkge1xyXG4gICAgcmFmSWQgPSBudWxsO1xyXG4gICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuICAgIGlmIChub3cgLSBsVGltZSA+IGRlbGF5KSB7XHJcbiAgICAgICAgbFRpbWUgPSBub3c7XHJcbiAgICAgICAgdmFyICR0cyA9ICQoJy5yZXZlYWxfcGVuZGluZycpO1xyXG4gICAgICAgICQoJHRzLmdldCgwKSkucmVtb3ZlQ2xhc3MoJ3JldmVhbF9wZW5kaW5nJykuYWRkQ2xhc3MoJ3JldmVhbF92aXNpYmxlJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmICgkKCcucmV2ZWFsX3BlbmRpbmcnKS5sZW5ndGggPj0gMSkgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmV2ZWFsKTtcclxufVxyXG5cclxuJChzY3JvbGwpO1xyXG4kKHdpbmRvdykuc2Nyb2xsKHNjcm9sbCk7XHJcblxyXG5cclxuXHJcbmNvbnN0IG1vZGFsVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1pbWFnZScpXHJcbmNvbnN0IG1vZGFsQ2xvc2VUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLW1vZGFsX19jbG9zZScpXHJcbmNvbnN0IGJvZHlCbGFja291dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2R5LWJsYWNrb3V0JylcclxubW9kYWxUcmlnZ2Vycy5mb3JFYWNoKHRyaWdnZXIgPT4ge1xyXG4gICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHBvcHVwVHJpZ2dlclxyXG4gICAgICAgIH0gPSB0cmlnZ2VyLmRhdGFzZXRcclxuICAgICAgICBjb25zdCBwb3B1cE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcG9wdXAtbW9kYWw9XCIke3BvcHVwVHJpZ2dlcn1cIl1gKVxyXG4gICAgICAgIHBvcHVwTW9kYWwuY2xhc3NMaXN0LmFkZCgnaXMtLXZpc2libGUnKVxyXG4gICAgICAgIGJvZHlCbGFja291dC5jbGFzc0xpc3QuYWRkKCdpcy1ibGFja2VkLW91dCcpXHJcblxyXG4gICAgICAgIHBvcHVwTW9kYWwucXVlcnlTZWxlY3RvcignLnBvcHVwLW1vZGFsX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLS12aXNpYmxlJylcclxuICAgICAgICAgICAgYm9keUJsYWNrb3V0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWJsYWNrZWQtb3V0JylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuXHJcblxyXG5cclxudmFyICRuYXZiYXIgPSAkKFwiLm1lX3N0aWNreVwiKSxcclxuICAgIHlfcG9zID0gJG5hdmJhci5vZmZzZXQoKS50b3AsXHJcbiAgICBoZWlnaHQgPSAkbmF2YmFyLmhlaWdodCgpO1xyXG5cclxuJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgaWYgKHNjcm9sbFRvcCA+IHlfcG9zICsgaGVpZ2h0KSB7XHJcbiAgICAgICAgJG5hdmJhci5hZGRDbGFzcyhcIm5hdmJhci1maXhlZFwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgdG9wOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSB5X3Bvcykge1xyXG4gICAgICAgICRuYXZiYXIucmVtb3ZlQ2xhc3MoXCJuYXZiYXItZml4ZWRcIikuY2xlYXJRdWV1ZSgpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAvL3RvcDogXCItNDhweFwiXHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbn0pO1xyXG4kKFwiLm1lX3N0aWNreVwiKS5jc3MoJ3RvcCcsJzAnKVxyXG5cclxuJCgnLnRyaWdnZXItbW9iaScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5uZXh0KCkudG9nZ2xlKCk7XHJcbn0pXHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xyXG4gICAgY29uc29sZS5sb2coXCJyZWFkeSFcIik7XHJcbiAgICByZWFkeSgpO1xyXG59IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHJlYWR5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZHkoKSB7XHJcbiAgICB2YXIgYWNjb3JkaW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkdFwiKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaTxhY2NvcmRpb24ubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGFjY29yZGlvbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGFjY29yZGlvbkNsaWNrKGV2ZW50KTtcclxuICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGFjY29yZGlvbkNsaWNrID0gKGV2ZW50SGFwcGVuZWQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGV2ZW50SGFwcGVuZWQpO1xyXG4gICAgdmFyIHRhcmdldENsaWNrZWQgPWV2ZW50LnRhcmdldDtcclxuICAgIGNvbnNvbGUubG9nKHRhcmdldENsaWNrZWQpO1xyXG4gICAgdmFyIGNsYXNzQ2xpY2tlZCA9IHRhcmdldENsaWNrZWQuY2xhc3NMaXN0O1xyXG4gICAgY29uc29sZS5sb2coXCJ0YXJnZXQgY2xpY2tlZDogXCIgKyB0YXJnZXRDbGlja2VkKTtcclxuICAgIGNvbnNvbGUubG9nKGNsYXNzQ2xpY2tlZFswXSk7XHJcbiAgICB3aGlsZSAoKGNsYXNzQ2xpY2tlZFswXSAhPVwiZGVzY3JpcHRpb24tdGl0bGVcIikpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGFyZW50IGVsZW1lbnQ6IFwiICsgdGFyZ2V0Q2xpY2tlZC5wYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB0YXJnZXRDbGlja2VkID0gdGFyZ2V0Q2xpY2tlZC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGNsYXNzQ2xpY2tlZCA9IHRhcmdldENsaWNrZWQuY2xhc3NMaXN0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGFyZ2V0IGNsaWNrZWQgd2hpbGUgaW4gbG9vcDpcIiArIHRhcmdldENsaWNrZWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xhc3MgY2xpY2tlZCB3aGlsZSBpbiBsb29wOiBcIiArIGNsYXNzQ2xpY2tlZCk7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVzY3JpcHRpb24gPSB0YXJnZXRDbGlja2VkLm5leHRFbGVtZW50U2libGluZztcclxuICAgIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uKTtcclxuICAgIHZhciBleHBhbmRlciA9IHRhcmdldENsaWNrZWQuY2hpbGRyZW5bMF07XHJcbiAgICBpZiAoZGVzY3JpcHRpb24uc3R5bGUubWF4SGVpZ2h0KXtcclxuICAgICAgICBkZXNjcmlwdGlvbi5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgIGV4cGFuZGVyLmlubmVySFRNTCA9IFwiJiMxMDEzMztcIlxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGFsbERlc2NyaXB0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGRcIik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxEZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImN1cnJlbnQgZGVzY3JpcHRpb246IFwiICsgYWxsRGVzY3JpcHRpb25zW2ldKTtcclxuICAgICAgICAgICAgaWYgKGFsbERlc2NyaXB0aW9uc1tpXS5zdHlsZS5tYXhIZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGVyZSBpcyBhIGRlc2NyaXB0aW9uIGFscmVhZHkgb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIGFsbERlc2NyaXB0aW9uc1tpXS5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgYWxsRGVzY3JpcHRpb25zW2ldLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gXCImIzEwMTMzO1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVzY3JpcHRpb24uc3R5bGUubWF4SGVpZ2h0ID0gZGVzY3JpcHRpb24uc2Nyb2xsSGVpZ2h0ICsgNDUgKyBcInB4XCI7XHJcbiAgICAgICAgZXhwYW5kZXIuaW5uZXJIVE1MID0gXCImIzEwMTM0O1wiO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuICAgIC8vIHByb2R1Y3QgR2FsbGVyeSBhbmQgWm9vbVxyXG5cclxuICAgIC8vIGFjdGl2YXRpb24gY2Fyb3VzZWwgcGx1Z2luXHJcbiAgICAgICAgY29uc3QgJGxlZnQgPSAkKFwiLmxlZnRcIik7XHJcbiAgICAgICAgY29uc3QgJGdsID0gJChcIi5nYWxsZXJ5XCIpO1xyXG4gICAgICAgIGNvbnN0ICRnbDIgPSAkKFwiLmdhbGxlcnkyXCIpO1xyXG4gICAgICAgIGNvbnN0ICRwaG90b3NDb3VudGVyRmlyc3RTcGFuID0gJChcIi5waG90b3MtY291bnRlciBzcGFuOm50aC1jaGlsZCgxKVwiKTtcclxuXHJcbiAgICAgICAgJGdsMi5vbihcImluaXRcIiwgKGV2ZW50LCBzbGljaykgPT4ge1xyXG4gICAgICAgICRwaG90b3NDb3VudGVyRmlyc3RTcGFuLnRleHQoYCR7c2xpY2suY3VycmVudFNsaWRlICsgMX0vYCk7XHJcbiAgICAgICAgJChcIi5waG90b3MtY291bnRlciBzcGFuOm50aC1jaGlsZCgyKVwiKS50ZXh0KHNsaWNrLnNsaWRlQ291bnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkZ2wuc2xpY2soe1xyXG4gICAgICAgIHJvd3M6IDAsXHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogM1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkZ2wyLnNsaWNrKHtcclxuICAgICAgICByb3dzOiAwLFxyXG4gICAgICAgIHVzZVRyYW5zZm9ybTogZmFsc2UsXHJcbiAgICAgICAgcHJldkFycm93OiBcIi5hcnJvdy1sZWZ0XCIsXHJcbiAgICAgICAgbmV4dEFycm93OiBcIi5hcnJvdy1yaWdodFwiLFxyXG4gICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgYXNOYXZGb3I6ICRnbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDYXJvdXNlbHNIZWlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTAyNHB4KVwiKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdsMkggPSAkKFwiLmdhbGxlcnkyXCIpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAkbGVmdC5jc3MoXCJoZWlnaHRcIiwgZ2wySCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxlZnQuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKHdpbmRvdykub24oXCJsb2FkXCIsICgpID0+IHtcclxuICAgICAgICBoYW5kbGVDYXJvdXNlbHNIZWlnaHQoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJChcIi5sb2FkaW5nXCIpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJvdmVyLXZpc2libGVcIik7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLnNsaWRlci1wYXknKS5zbGljayh7XHJcbiAgICAgICAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgbmV4dEFycm93OiBgPGRpdiBjbGFzcz1cImljb24tc2xpY2stbmF2IG5leHQtYXJyb3dcIj48c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgNTEyIDUxMic+PHRpdGxlPmlvbmljb25zLXY1LWE8L3RpdGxlPjxwb2x5bGluZSBwb2ludHM9JzE4NCAxMTIgMzI4IDI1NiAxODQgNDAwJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojMDAwO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NDhweCcvPjwvc3ZnPjwvZGl2PmAsXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogYDxkaXYgY2xhc3M9XCJpY29uLXNsaWNrLW5hdiBwcmV2LWFycm93XCI+PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDUxMiA1MTInPjx0aXRsZT5pb25pY29ucy12NS1hPC90aXRsZT48cG9seWxpbmUgcG9pbnRzPSczMjggMTEyIDE4NCAyNTYgMzI4IDQwMCcgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjQ4cHgnLz48L3N2Zz48L2Rpdj5gLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBkb3RzOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuZ2FsbGVyeSAuaXRlbVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1zbGljay1pbmRleFwiKTtcclxuICAgICAgICAkZ2wyLnNsaWNrKFwic2xpY2tHb1RvXCIsIGluZGV4KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJGdsMi5vbihcImFmdGVyQ2hhbmdlXCIsIChldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSkgPT4ge1xyXG4gICAgICAgICRwaG90b3NDb3VudGVyRmlyc3RTcGFuLnRleHQoYCR7c2xpY2suY3VycmVudFNsaWRlICsgMX0vYCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENsaWNrIGNvbGxhcHNlXHJcbiAgICAgICBcclxuXHJcbi8vRklYRUQgc2Nyb2xsIG5hdlxyXG5cclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgIHZhciBkaXYxID0gJChcIi5tZV9zdGlja3lcIik7XHJcbiAgICB2YXIgZGl2MiA9ICQoXCIuYXNpZGUtbGVmdFwiKTtcclxuICAgIHZhciBkaXYxX3RvcCA9IGRpdjEub2Zmc2V0KCkudG9wO1xyXG4gICAgaWYgKCQoJy5hc2lkZS1sZWZ0JykubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgdmFyIGRpdjJfdG9wID0gZGl2Mi5vZmZzZXQoKS50b3A7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBkaXYxX2JvdHRvbSA9IGRpdjFfdG9wICsgZGl2MS5oZWlnaHQoKTtcclxuICAgIHZhciBkaXYyX2JvdHRvbSA9IGRpdjJfdG9wICsgZGl2Mi5oZWlnaHQoKTtcclxuICAgIHZhciBoID0gZGl2MS5vdXRlckhlaWdodCgpO1xyXG4gICAgaWYgKGRpdjFfYm90dG9tID49IGRpdjJfdG9wICYmIGRpdjFfdG9wIDwgZGl2Ml9ib3R0b20pIHtcclxuICAgICAgICBkaXYyLmFkZENsYXNzKCd0b2ZpeGVkJylcclxuICAgICAgICBkaXYyLmNzcygndG9wJywgaCArICdweCcpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpdjIucmVtb3ZlQ2xhc3MoJ3RvZml4ZWQnKVxyXG4gICAgICAgIGRpdjIuY3NzKCd0b3AnLCAwICsgJ3B4JylcclxuICAgIH1cclxufSk7XHJcblxyXG4iXX0=
